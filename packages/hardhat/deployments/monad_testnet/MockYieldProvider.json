{
  "address": "0x78E70E78634980Cefa3CCEBE28cAc6Ea6E548145",
  "abi": [
    {
      "inputs": [],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "poolAddress",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "totalReturn",
          "type": "uint256"
        }
      ],
      "name": "PrincipalAndYieldReturned",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "poolAddress",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "PrincipalDeposited",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "poolAddress",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "yieldAmount",
          "type": "uint256"
        }
      ],
      "name": "YieldSet",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_poolAddress",
          "type": "address"
        }
      ],
      "name": "authorizePool",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "authorizedPools",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_poolAddress",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "_amount",
          "type": "uint256"
        }
      ],
      "name": "depositPrincipal",
      "outputs": [],
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "poolYields",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_poolAddress",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "_requestedAmount",
          "type": "uint256"
        }
      ],
      "name": "returnPrincipalAndYield",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_poolAddress",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "_yieldAmount",
          "type": "uint256"
        }
      ],
      "name": "setPoolYield",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "transactionHash": "0x7167539e88c1c1dc230e5bd09c55c6ab368bb37c297fb628ae21af607307608f",
  "receipt": {
    "to": null,
    "from": "0x9416CF0496Bb71D47EE4865F11601EE3413B7EeE",
    "contractAddress": "0x78E70E78634980Cefa3CCEBE28cAc6Ea6E548145",
    "transactionIndex": 1,
    "gasUsed": "387720",
    "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
    "blockHash": "0xc2afd00c71e2828efa775f66f28c81ed3cc2f5a7e316201d22c1abc6e7964270",
    "transactionHash": "0x7167539e88c1c1dc230e5bd09c55c6ab368bb37c297fb628ae21af607307608f",
    "logs": [],
    "blockNumber": 52569204,
    "cumulativeGasUsed": "387720",
    "status": 1,
    "byzantium": true
  },
  "args": [],
  "numDeployments": 3,
  "solcInputHash": "83f7ba2e97b04a0466b92f7de4da914e",
  "metadata": "{\"compiler\":{\"version\":\"0.8.20+commit.a1b79de6\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"poolAddress\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"totalReturn\",\"type\":\"uint256\"}],\"name\":\"PrincipalAndYieldReturned\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"poolAddress\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"PrincipalDeposited\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"poolAddress\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"yieldAmount\",\"type\":\"uint256\"}],\"name\":\"YieldSet\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_poolAddress\",\"type\":\"address\"}],\"name\":\"authorizePool\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"authorizedPools\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_poolAddress\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_amount\",\"type\":\"uint256\"}],\"name\":\"depositPrincipal\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"poolYields\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_poolAddress\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_requestedAmount\",\"type\":\"uint256\"}],\"name\":\"returnPrincipalAndYield\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_poolAddress\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_yieldAmount\",\"type\":\"uint256\"}],\"name\":\"setPoolYield\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"details\":\"Simulates a DeFi protocol (like Aave or Lido) for hackathon/demo use. IMPORTANT FIX:  - returnPrincipalAndYield() no longer reverts when contract lacks funds.  - It now sends MIN(balance, requestedAmount) so \\\"simulated yield\\\" always works.\",\"kind\":\"dev\",\"methods\":{\"authorizePool(address)\":{\"details\":\"Authorize a pool contract to call yield functions\"},\"depositPrincipal(address,uint256)\":{\"details\":\"Simulated principal deposit.\"},\"returnPrincipalAndYield(address,uint256)\":{\"details\":\"Return principal + yield to pool. FIXED: does NOT revert when mock contract lacks enough ETH.\"},\"setPoolYield(address,uint256)\":{\"details\":\"Set simulated yield amount (manual)\"}},\"title\":\"MockYieldProvider\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/MockYieldProvider.sol\":\"MockYieldProvider\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[]},\"sources\":{\"contracts/MockYieldProvider.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.20;\\n\\n/**\\n * @title MockYieldProvider\\n * @dev Simulates a DeFi protocol (like Aave or Lido) for hackathon/demo use.\\n * IMPORTANT FIX:\\n *  - returnPrincipalAndYield() no longer reverts when contract lacks funds.\\n *  - It now sends MIN(balance, requestedAmount) so \\\"simulated yield\\\" always works.\\n */\\ncontract MockYieldProvider {\\n    address public owner;\\n    mapping(address => bool) public authorizedPools;\\n    mapping(address => uint256) public poolYields;\\n\\n    event PrincipalDeposited(address indexed poolAddress, uint256 amount);\\n    event YieldSet(address indexed poolAddress, uint256 yieldAmount);\\n    event PrincipalAndYieldReturned(address indexed poolAddress, uint256 totalReturn);\\n\\n    constructor() {\\n        owner = msg.sender;\\n    }\\n\\n    modifier onlyOwner() {\\n        require(msg.sender == owner, \\\"Only owner can call\\\");\\n        _;\\n    }\\n\\n    modifier onlyOwnerOrPool() {\\n        require(msg.sender == owner || authorizedPools[msg.sender], \\\"Only owner or authorized pool can call\\\");\\n        _;\\n    }\\n\\n    /**\\n     * @dev Authorize a pool contract to call yield functions\\n     */\\n    function authorizePool(address _poolAddress) external onlyOwner {\\n        authorizedPools[_poolAddress] = true;\\n    }\\n\\n    /**\\n     * @dev Simulated principal deposit.\\n     */\\n    function depositPrincipal(address _poolAddress, uint256 _amount) public payable {\\n        require(msg.value == _amount, \\\"Deposit amount mismatch\\\");\\n        emit PrincipalDeposited(_poolAddress, _amount);\\n        // Funds accumulate in this contract\\n    }\\n\\n    /**\\n     * @dev Set simulated yield amount (manual)\\n     */\\n    function setPoolYield(address _poolAddress, uint256 _yieldAmount) public onlyOwnerOrPool {\\n        poolYields[_poolAddress] = _yieldAmount;\\n        emit YieldSet(_poolAddress, _yieldAmount);\\n    }\\n\\n    /**\\n     * @dev Return principal + yield to pool.\\n     * FIXED: does NOT revert when mock contract lacks enough ETH.\\n     */\\n    function returnPrincipalAndYield(address _poolAddress, uint256 _requestedAmount) public onlyOwnerOrPool {\\n        uint256 balance = address(this).balance;\\n\\n        // For demos: send whatever is available\\n        uint256 payout = _requestedAmount > balance ? balance : _requestedAmount;\\n\\n        (bool success, ) = payable(_poolAddress).call{value: payout}(\\\"\\\");\\n        require(success, \\\"Transfer failed\\\");\\n\\n        delete poolYields[_poolAddress];\\n\\n        emit PrincipalAndYieldReturned(_poolAddress, payout);\\n    }\\n}\\n\",\"keccak256\":\"0xba6541bcbd55e8de32c22eb728c860efcdeb282c1819439c82189ff2f6f0a730\",\"license\":\"MIT\"}},\"version\":1}",
  "bytecode": "0x608060405234801561001057600080fd5b50600080546001600160a01b03191633179055610576806100326000396000f3fe6080604052600436106100705760003560e01c80633059b7c61161004e5780633059b7c6146100ca5780638da5cb5b146100ea578063d3bf3b6a14610127578063e816b3931461016257600080fd5b806314e7d02f1461007557806315ebf74a1461009757806324f2c463146100b7575b600080fd5b34801561008157600080fd5b506100956100903660046104ae565b6101a2565b005b3480156100a357600080fd5b506100956100b23660046104ae565b610248565b6100956100c53660046104ae565b610391565b3480156100d657600080fd5b506100956100e53660046104d8565b61041b565b3480156100f657600080fd5b5060005461010a906001600160a01b031681565b6040516001600160a01b0390911681526020015b60405180910390f35b34801561013357600080fd5b506101546101423660046104d8565b60026020526000908152604090205481565b60405190815260200161011e565b34801561016e57600080fd5b5061019261017d3660046104d8565b60016020526000908152604090205460ff1681565b604051901515815260200161011e565b6000546001600160a01b03163314806101ca57503360009081526001602052604090205460ff165b6101ef5760405162461bcd60e51b81526004016101e6906104fa565b60405180910390fd5b6001600160a01b03821660008181526002602052604090819020839055517fb3847545cfbda9546c0b8d2ee7398cdbced26db8b2429085b544b114045b560e9061023c9084815260200190565b60405180910390a25050565b6000546001600160a01b031633148061027057503360009081526001602052604090205460ff165b61028c5760405162461bcd60e51b81526004016101e6906104fa565b47600081831161029c578261029e565b815b90506000846001600160a01b03168260405160006040518083038185875af1925050503d80600081146102ed576040519150601f19603f3d011682016040523d82523d6000602084013e6102f2565b606091505b50509050806103355760405162461bcd60e51b815260206004820152600f60248201526e151c985b9cd9995c8819985a5b1959608a1b60448201526064016101e6565b6001600160a01b03851660008181526002602052604080822091909155517fe30f8d8307e55749fb18b864590a2f3355e3eaee82aa07814f131cea125c3377906103829085815260200190565b60405180910390a25050505050565b8034146103e05760405162461bcd60e51b815260206004820152601760248201527f4465706f73697420616d6f756e74206d69736d6174636800000000000000000060448201526064016101e6565b816001600160a01b03167f2d61cf17bab18b04495576cf3d5490afd6c0c573d79b7ce84a50fb523abb3daf8260405161023c91815260200190565b6000546001600160a01b0316331461046b5760405162461bcd60e51b815260206004820152601360248201527213db9b1e481bdddb995c8818d85b8818d85b1b606a1b60448201526064016101e6565b6001600160a01b03166000908152600160208190526040909120805460ff19169091179055565b80356001600160a01b03811681146104a957600080fd5b919050565b600080604083850312156104c157600080fd5b6104ca83610492565b946020939093013593505050565b6000602082840312156104ea57600080fd5b6104f382610492565b9392505050565b60208082526026908201527f4f6e6c79206f776e6572206f7220617574686f72697a656420706f6f6c2063616040820152651b8818d85b1b60d21b60608201526080019056fea2646970667358221220e3fd357f68d9ea0f40e012b1c6c0847b2d5ab73a27e62b4ef21f362eb0dd0d8864736f6c63430008140033",
  "deployedBytecode": "0x6080604052600436106100705760003560e01c80633059b7c61161004e5780633059b7c6146100ca5780638da5cb5b146100ea578063d3bf3b6a14610127578063e816b3931461016257600080fd5b806314e7d02f1461007557806315ebf74a1461009757806324f2c463146100b7575b600080fd5b34801561008157600080fd5b506100956100903660046104ae565b6101a2565b005b3480156100a357600080fd5b506100956100b23660046104ae565b610248565b6100956100c53660046104ae565b610391565b3480156100d657600080fd5b506100956100e53660046104d8565b61041b565b3480156100f657600080fd5b5060005461010a906001600160a01b031681565b6040516001600160a01b0390911681526020015b60405180910390f35b34801561013357600080fd5b506101546101423660046104d8565b60026020526000908152604090205481565b60405190815260200161011e565b34801561016e57600080fd5b5061019261017d3660046104d8565b60016020526000908152604090205460ff1681565b604051901515815260200161011e565b6000546001600160a01b03163314806101ca57503360009081526001602052604090205460ff165b6101ef5760405162461bcd60e51b81526004016101e6906104fa565b60405180910390fd5b6001600160a01b03821660008181526002602052604090819020839055517fb3847545cfbda9546c0b8d2ee7398cdbced26db8b2429085b544b114045b560e9061023c9084815260200190565b60405180910390a25050565b6000546001600160a01b031633148061027057503360009081526001602052604090205460ff165b61028c5760405162461bcd60e51b81526004016101e6906104fa565b47600081831161029c578261029e565b815b90506000846001600160a01b03168260405160006040518083038185875af1925050503d80600081146102ed576040519150601f19603f3d011682016040523d82523d6000602084013e6102f2565b606091505b50509050806103355760405162461bcd60e51b815260206004820152600f60248201526e151c985b9cd9995c8819985a5b1959608a1b60448201526064016101e6565b6001600160a01b03851660008181526002602052604080822091909155517fe30f8d8307e55749fb18b864590a2f3355e3eaee82aa07814f131cea125c3377906103829085815260200190565b60405180910390a25050505050565b8034146103e05760405162461bcd60e51b815260206004820152601760248201527f4465706f73697420616d6f756e74206d69736d6174636800000000000000000060448201526064016101e6565b816001600160a01b03167f2d61cf17bab18b04495576cf3d5490afd6c0c573d79b7ce84a50fb523abb3daf8260405161023c91815260200190565b6000546001600160a01b0316331461046b5760405162461bcd60e51b815260206004820152601360248201527213db9b1e481bdddb995c8818d85b8818d85b1b606a1b60448201526064016101e6565b6001600160a01b03166000908152600160208190526040909120805460ff19169091179055565b80356001600160a01b03811681146104a957600080fd5b919050565b600080604083850312156104c157600080fd5b6104ca83610492565b946020939093013593505050565b6000602082840312156104ea57600080fd5b6104f382610492565b9392505050565b60208082526026908201527f4f6e6c79206f776e6572206f7220617574686f72697a656420706f6f6c2063616040820152651b8818d85b1b60d21b60608201526080019056fea2646970667358221220e3fd357f68d9ea0f40e012b1c6c0847b2d5ab73a27e62b4ef21f362eb0dd0d8864736f6c63430008140033",
  "devdoc": {
    "details": "Simulates a DeFi protocol (like Aave or Lido) for hackathon/demo use. IMPORTANT FIX:  - returnPrincipalAndYield() no longer reverts when contract lacks funds.  - It now sends MIN(balance, requestedAmount) so \"simulated yield\" always works.",
    "kind": "dev",
    "methods": {
      "authorizePool(address)": {
        "details": "Authorize a pool contract to call yield functions"
      },
      "depositPrincipal(address,uint256)": {
        "details": "Simulated principal deposit."
      },
      "returnPrincipalAndYield(address,uint256)": {
        "details": "Return principal + yield to pool. FIXED: does NOT revert when mock contract lacks enough ETH."
      },
      "setPoolYield(address,uint256)": {
        "details": "Set simulated yield amount (manual)"
      }
    },
    "title": "MockYieldProvider",
    "version": 1
  },
  "userdoc": {
    "kind": "user",
    "methods": {},
    "version": 1
  },
  "storageLayout": {
    "storage": [
      {
        "astId": 182,
        "contract": "contracts/MockYieldProvider.sol:MockYieldProvider",
        "label": "owner",
        "offset": 0,
        "slot": "0",
        "type": "t_address"
      },
      {
        "astId": 186,
        "contract": "contracts/MockYieldProvider.sol:MockYieldProvider",
        "label": "authorizedPools",
        "offset": 0,
        "slot": "1",
        "type": "t_mapping(t_address,t_bool)"
      },
      {
        "astId": 190,
        "contract": "contracts/MockYieldProvider.sol:MockYieldProvider",
        "label": "poolYields",
        "offset": 0,
        "slot": "2",
        "type": "t_mapping(t_address,t_uint256)"
      }
    ],
    "types": {
      "t_address": {
        "encoding": "inplace",
        "label": "address",
        "numberOfBytes": "20"
      },
      "t_bool": {
        "encoding": "inplace",
        "label": "bool",
        "numberOfBytes": "1"
      },
      "t_mapping(t_address,t_bool)": {
        "encoding": "mapping",
        "key": "t_address",
        "label": "mapping(address => bool)",
        "numberOfBytes": "32",
        "value": "t_bool"
      },
      "t_mapping(t_address,t_uint256)": {
        "encoding": "mapping",
        "key": "t_address",
        "label": "mapping(address => uint256)",
        "numberOfBytes": "32",
        "value": "t_uint256"
      },
      "t_uint256": {
        "encoding": "inplace",
        "label": "uint256",
        "numberOfBytes": "32"
      }
    }
  }
}